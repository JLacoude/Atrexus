[user]
createNewUser="INSERT INTO users (`IP`) VALUES(:ip)"
getUser="SELECT ID, login FROM users WHERE ID=:id"
getUserByIP="SELECT ID, login, password FROM users WHERE IP=:ip AND login IS NULL"
getUserByLogin="SELECT ID, login, password FROM users WHERE login=:login"
registerUser="UPDATE users SET login=:login, email=:email, password=:password WHERE ID=:id"
[battlefields]
getBattlefieldListForAnonUser="
SELECT battlefields.ID,
       battlefields.name,
       personnas.ID AS personna_id,
       personnas.AP
FROM battlefields
LEFT JOIN personnas
     ON personnas.user_id = :userId
LEFT JOIN positions
     ON positions.battlefield_id = battlefields.ID
     AND personnas.position_id = positions.ID
WHERE battlefields.visibility = 'public'"
getBattlefieldListForUser="
SELECT battlefields.ID,
       battlefields.name,
       personnas.ID AS personna_id,
       personnas.AP
FROM battlefields
LEFT JOIN personnas
     ON personnas.user_id = :userId
LEFT JOIN positions
     ON positions.battlefield_id = battlefields.ID
     AND personnas.position_id = positions.ID
WHERE battlefields.visibility IN('public', 'restricted')"
[personnas]
getUserPersonnaInBattlefield="SELECT personnas.ID 
FROM personnas 
INNER JOIN positions
ON personnas.position_id = positions.ID
WHERE personnas.user_id = :userId 
  AND positions.battlefield_id = :battlefieldId"
createPersonna="INSERT INTO personnas (user_id, hive_id, position_id, AP, last_regen) VALUES(:userId, :hiveId, :positionId, :AP, NOW())"
getPersonna="SELECT ID, user_id, hive_id, position_id, AP, TIMESTAMPDIFF(SECOND, last_regen, NOW()) AS time_from_last_regen FROM personnas WHERE ID = :id"
updatePersonna="UPDATE personnas
SET AP = :ap,
    last_regen = NOW - INTERVAL :toRemove SECOND
WHERE ID = :id"
[headquarters]
getRandomHeadquarter="
SELECT positions.ID
FROM headquarters
INNER JOIN positions
ON headquarters.position_id = positions.ID
WHERE headquarters.hive_id = :hiveId
AND positions.battlefield_id = :battlefieldId
ORDER BY RAND()
LIMIT 1
"
[hives]
getBattlefieldHiveList="SELECT ID, name FROM hives WHERE battlefield_id = :battlefieldId"